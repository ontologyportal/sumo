include('TQT-ax.tff').


% ==============================================================================
%  7. CONJECTURE LIBRARY (30 TESTS)
% ==============================================================================

% -------------------------
% A. TIME & DATETIME
% -------------------------

% TEST 1: Time Overflow (Active)
% Scenario: Jan 1, 2025 23:00 + 2 hours -> Jan 2, 01:00.
%tff(test_time_overflow, conjecture,
%  ?[Y:$int, M:$int, D:$int, H:$int, Min:$int]: (
%    calc_datetime(2025, 1, 1, 23, 0, 0, 2, 0, dt(Y, M, D, H, Min)) &
%    valid_day(D)
%  )
%).

% TEST 2: Time Minute Rollover
% Scenario: 10:50 + 20 mins -> 11:10.
%tff(test_min_roll, conjecture,
%  ?[Y:$int, M:$int, D:$int, H:$int, Min:$int]: (
%    calc_datetime(2025, 1, 1, 10, 50, 0, 0, 20, dt(Y, M, D, H, Min)) & valid_day(D)
%  )
%).

% TEST 3: Large Time Add
% Scenario: Add 49 hours (2 days + 1 hour).
%tff(test_large_time, conjecture,
%  ?[Y:$int, M:$int, D:$int, H:$int, Min:$int]: (
%    calc_datetime(2025, 1, 1, 12, 0, 0, 49, 0, dt(Y, M, D, H, Min)) & valid_day(D)
%  )
%).

% TEST 4: New Year by Time
% Scenario: Dec 31, 2024 23:59 + 2 mins -> Jan 1, 2025 00:01.
%tff(test_new_year_time, conjecture,
%  ?[Y:$int, M:$int, D:$int, H:$int, Min:$int]: (
%    calc_datetime(2024, 12, 31, 23, 59, 0, 0, 2, dt(Y, M, D, H, Min)) & valid_day(D)
%  )
%).

% -------------------------
% B. SCHEDULER (Nth Weekday)
% -------------------------

% TEST 5: "Second Thursday of Nov 2025"
% Logic: Nov 1 2025 is Sat. Thu is 6th. 2nd Thu is 13th.
%tff(test_nth_thursday, conjecture,
%  ?[Y:$int, M:$int, D:$int]: (
%    nth_weekday_date(2, thursday, 11, 2025, ymd(Y, M, D))
%  )
%).

% TEST 6: "First Monday of Jan 2024"
% Jan 1 2024 = Monday. Result Jan 1.
%tff(test_first_monday, conjecture,
%  ?[Y:$int, M:$int, D:$int]: (
%    nth_weekday_date(1, monday, 1, 2024, ymd(Y, M, D))
%  )
%).

% TEST 7: "4th Friday of Feb 2024"
% Feb 1 2024 = Thursday. 1st Fri = Feb 2. 4th = Feb 23.
%tff(test_4th_friday, conjecture,
%  ?[Y:$int, M:$int, D:$int]: (
%    nth_weekday_date(4, friday, 2, 2024, ymd(Y, M, D))
%  )
%).

% -------------------------
% C. BASIC DATE ARITHMETIC
% -------------------------

% TEST 8: Simple Add (Jan 11)
% tff(test_simple_add, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(1, 10), 1, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 9: Month Roll (Feb 4)
%tff(test_month_roll, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(30, 5), 1, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 10: Large Add (May 14)
%tff(test_large_add, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(15, 120), 1, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 11: Simple Sub (Jan 5)
%tff(test_simple_sub, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(10, -5), 1, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 12: Back Leap (Feb 28)
%tff(test_back_leap, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(1, -2), 3, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 13: Year Back (Dec 31)
%tff(test_year_back, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(1, -1), 1, 2025, ymd(Y, M, D)) & valid_day(D))).

% -------------------------
% D. LEAP YEAR CHECKS
% -------------------------

% TEST 14: Leap Exists (Feb 29)
% tff(test_leap_ok, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(25, 4), 2, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 15: Leap Not Exists (Mar 1)
%tff(test_leap_no, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(25, 4), 2, 2025, ymd(Y, M, D)) & valid_day(D))).

% TEST 16: 1900 Rule (Mar 1)
%tff(test_1900, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(28, 1), 2, 1900, ymd(Y, M, D)) & valid_day(D))).

% TEST 17: 2000 Rule (Feb 29)
% tff(test_2000, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(28, 1), 2, 2000, ymd(Y, M, D)) & valid_day(D))).

% -------------------------
% E. INTEGRATED LOGIC
% -------------------------

% TEST 18: Add week + Name
%tff(test_add_week, conjecture, ?[Y:$int, M:$int, D:$int, N:day_name]: (calc_date($sum(12, 7), 11, 2025, ymd(Y, M, D)) & weekday(ymd(Y, M, D), N) & valid_day(D))).

% TEST 19: Next Year Same Day
tff(test_next_year, conjecture, ?[Y:$int, M:$int, D:$int, N:day_name]: (calc_date($sum(19, 365), 11, 2025, ymd(Y, M, D)) & weekday(ymd(Y, M, D), N) & valid_day(D))).

% -------------------------
% F. YEAR BOUNDARIES
% -------------------------

% TEST 20: New Year Forward
% tff(test_ny_fwd, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(31, 1), 12, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 21: Big Jump
% tff(test_big_jump, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(2, 400), 1, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 22: Two Year Jump
% tff(test_2yr_jump, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(1, 731), 1, 2024, ymd(Y, M, D)) & valid_day(D))).

% -------------------------
% G. HISTORICAL
% -------------------------

% TEST 23: 1776 (Thu)
% tff(test_1776, conjecture, ?[N:day_name]: weekday(ymd(1776, 7, 4), N)).

% TEST 24: Moon Landing (Sun)
% tff(test_moon, conjecture, ?[N:day_name]: weekday(ymd(1969, 7, 20), N)).

% TEST 25: BTTF (Sat)
% tff(test_bttf, conjecture, ?[N:day_name]: weekday(ymd(1985, 10, 26), N)).

% TEST 26: 1600 Epoch (Sat)
% tff(test_1600, conjecture, ?[N:day_name]: weekday(ymd(1600, 1, 1), N)).

% -------------------------
% H. MISC EDGE CASES
% -------------------------

% TEST 27: Dec Boundary Calc
% tff(test_dec_bound, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(1, 30), 12, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 28: Zero Day
% tff(test_zero, conjecture, ?[Y:$int, M:$int, D:$int]: (calc_date($sum(1, -1), 3, 2024, ymd(Y, M, D)) & valid_day(D))).

% TEST 29: Future Weekday
% tff(test_2030, conjecture, ?[N:day_name]: weekday(ymd(2030, 1, 1), N)).

% TEST 30: Leap Weekday
% tff(test_leap_wk, conjecture, ?[N:day_name]: weekday(ymd(2024, 2, 29), N)).