% time and temporal reasoning

tff(worlds_tp,type,
    w: $tType ).

tff(modals_tp,type,
    m: $tType ).

tff(desires_tp,type,
    desires: m ).

tff(knows_tp,type,
    knows: m ).
        
tff(holdsDuring_tp,type,
    holdsDuring: m ).
   
tff(confersObligation_tp,type,
    confersObligation: m ).
   
tff(employs_tp,type,
    employs: ($i * $i * w )> $o ).
                
tff(agent_tp,type,
    agent: ($i * $i * w) > $o ).

tff(patient_tp,type,
    patient: ($i * $i * w) > $o ).

tff(destination_tp,type,
    destination: ($i * $i * w) > $o ).

tff(plaintiff_tp,type,
    plaintiff: ($i * $i * w) > $o ).
    
tff(defendant_tp,type,
    defendant: ($i * $i * w) > $o ).
        
tff(victim_tp,type,
    victim: ($i * $i * w) > $o ).

tff(suffers_tp,type,
    suffers: ($i * $i * w) > $o ).
    
tff(earlier_tp,type,    % Doesn't need a world.  Assume basic physics in all worlds. Time can't go backwards.
    earlier: ($i * $i) > $o ).
        
tff(meetsTemporally_tp,type,    % Doesn't need a world.  Assume basic physics in all worlds. Time can't go backwards.
    meetsTemporally: ($i * $i) > $o ).
            
tff(during_tp,type,     % Doesn't need a world.  Assume basic physics in all worlds.
    during: ($i * $i) > $o ).
            
tff(whenFn_tp,type,
    whenFn: ($i * w) > $i ).

tff(pastFn_tp,type,    % Doesn't need a world.  Assume basic physics in all worlds.
    pastFn: ($i) > $i ).
    
tff(futureFn_tp,type,  % Doesn't need a world.  Assume basic physics in all worlds.
    futureFn: ($i) > $i ).

tff(immediatePastFn_tp,type,    % Doesn't need a world.  Assume basic physics in all worlds.
    immediatePastFn: ($i) > $i ).
    
tff(immediateFutureFn_tp,type,  % Doesn't need a world.  Assume basic physics in all worlds.
    immediateFutureFn: ($i) > $i ).

tff(addDayFn_tp,type,
    addDayFn: ($int * $i) > $i ).            
    
tff(dayFn_tp,type,
    dayFn: ($int * $i) > $i ).
    
tff(monthFn_tp,type,
    monthFn: ($i * $i) > $i ).
        
tff(yearFn_tp,type,
    yearFn: ($int) > $i ).

tff(governmentFn_tp,type,   % definitional, doesn't need a world
    governmentFn: ($i) > $i ).
                    
tff(attribute_tp,type,
    attribute: ($i * $i * w) > $o ).

tff(subOrganization_tp,type,
    subOrganization: ($i * $i * w) > $o ).
    
tff(instance_tp,type,       % constant domains, doesn't need a world
    instance: ($i * $i) > $o ).

tff(mIBUnit_tp,type,
    mIBUnit: $i ).
    
tff(organization_tp,type,
    organization: $i ).

tff(uSGovernment_tp,type,
    uSGovernment: $i ).
            
tff(unitedStates_tp,type,
    unitedStates: $i ).
                
tff(human_tp,type,
    human: $i ).

tff(agentSmith_tp,type,
    agentSmith: $i ).

tff(facility_tp,type,
    facility: $i ).
        
tff(area51_tp,type,
    area51: $i ).
        
tff(legalAction_tp,type,
    legalAction: $i ).
     
tff(entering_tp,type,
    entering: $i ).
    
tff(terminatingEmployment_tp,type,
    terminatingEmployment: $i ).    
                
tff(accreln_tp,type,
    accreln: (m * $i * w * w) > $o ).

tff(accreln2_tp,type,
    accreln2: (m * $i * $i * w * w) > $o ).
    
tff(currentworld_tp,type,
    cw: w ).

tff(month_tp,type,
  month: $i).
  
tff(succClass_tp,type,
  successorClass: ($i * $i) > $o).  
  
tff(daysInMonth_tp,type,
  daysInMonth: ($int * $i) > $o).
    
tff(jan_tp,type,
  january: $i).
tff(janDays_tp,axiom,
  daysInMonth(31,january)).
  
tff(feb_tp,type,
  february: $i).  
tff(februaryDays_tp,axiom,
  daysInMonth(28,february)).
  
tff(mar_tp,type,
  march: $i).
tff(marchDays_tp,axiom,
  daysInMonth(31,march)).
    
tff(apr_tp,type,
  april: $i).
tff(aprilDays_tp,axiom,
  daysInMonth(30,april)).
    
tff(may_tp,type,
  may: $i).
tff(mayDays_tp,axiom,
  daysInMonth(31,may)).
    
tff(jun_tp,type,
  june: $i).
tff(juneDays_tp,axiom,
  daysInMonth(30,june)).
    
tff(july_tp,type,
  july: $i).
tff(julyDays_tp,axiom,
  daysInMonth(31,july)).
    
tff(aug_tp,type,
  august: $i).
tff(augustDays_tp,axiom,
  daysInMonth(31,august)).
    
tff(sep_tp,type,
  september: $i).
tff(septemberDays_tp,axiom,
  daysInMonth(30,september)).
    
tff(oct_tp,type,
  october: $i).
tff(octoberDays_tp,axiom,
  daysInMonth(31,october)).
    
tff(nov_tp,type,
  november: $i).
tff(novemberDays_tp,axiom,
  daysInMonth(30,november)).
    
tff(dec_tp,type,
  december: $i).
tff(decemberDays_tp,axiom,
  daysInMonth(31,december)).
    

tff(succJan,axiom,
  successorClass(january, february)).
tff(succFeb,axiom,
  successorClass(february, march)).
tff(succMar,axiom,
  successorClass(march, april)).
tff(succApr,axiom,
  successorClass(april, may)).
tff(succMay,axiom,
  successorClass(may, june)).
tff(succJun,axiom,
  successorClass(june, july)).
tff(succJul,axiom,
  successorClass(july, august)).
tff(succAug,axiom,
  successorClass(august, september)).
tff(succSep,axiom,
  successorClass(september, october)).
tff(succOct,axiom,
  successorClass(october, november)).
tff(succNov,axiom,
  successorClass(november, december)).

tff(succTrans,axiom,
  (![C1:$i,C2:$i,C3:$i]:(
    (successorClass(C1, C2) &
     successorClass(C2, C3)) =>
       successorClass(C1, C3))) ).
             
tff(def1,axiom,
  instance(agentSmith, human)).
  
tff(def2,axiom,
  instance(area51, facility)).
  
tff(mod_type, type, $mod: ($int * $int) > $int).
  
tff(modAx1,axiom,
  ![X:$int,Y:$int]:(
    $mod(X, Y) = $difference(X, $product($quotient_e(X, Y), Y)))).
        
tff(modAx2, axiom,
    ! [A: $int] : $mod(A, 0) = A ).
      
% time stuff.  Temporal relations between times are true in all worlds

tff(duringDay,axiom,
  (![D:$int,M:$i,T1:$i,T2:$i,Y:$int]:(
    ((T1 = dayFn(D, monthFn(M, yearFn(Y)))) &
     (T2 = monthFn(M, yearFn(Y)))) =>
       during( T1, T2)))).

tff(duringDayYear,axiom,
  (![D:$int,M:$i,T1:$i,T2:$i,Y:$int]:(
    ((T1 = dayFn( D, monthFn( M, yearFn( Y)))) &
     (T2 = yearFn( Y))) =>
       during( T1, T2)))).
       
tff(duringMonth,axiom,
  (![M:$i,T1:$i,T2:$i,Y:$int]:(
    ((T1 = monthFn( M, yearFn( Y))) &
     (T2 = yearFn( Y))) =>
       during( T1, T2)))).
              
tff(earlierMonth,axiom,
  (![M1:$i,M2:$i,T1:$i,T2:$i,Y:$int]:(
    (successorClass( M1, M2) &
     (T1 = monthFn( M1, yearFn( Y))) &
     (T2 = monthFn( M2, yearFn( Y)))) =>
       earlier( T1, T2)))).

tff(earlierMonthDay,axiom,
  (![D1:$int,D2:$int,M1:$i,M2:$i,T1:$i,T2:$i,Y:$int]:(
    (successorClass( M1, M2) &
     (T1 = dayFn( D1, monthFn( M1, yearFn( Y)))) &
     (T2 = dayFn( D2, monthFn( M2, yearFn( Y))))) =>
       earlier( T1, T2)))).
       
tff(earlierYear,axiom,
  (![T1:$i,T2:$i,Y1:$int,Y2:$int]:(
    (($less(Y1, Y2) &
     (T1 = yearFn(Y1)) &
     (T2 = yearFn(Y2))) =>
       earlier(T1, T2))))).
              
tff(earlierYearMonth,axiom,
  (![M1:$i,M2:$i,T1:$i,T2:$i,Y1:$int,Y2:$int]:(
    (($less(Y1, Y2) &
     (T1 = monthFn( M1, yearFn( Y1))) &
     (T2 = monthFn( M2, yearFn( Y2)))) =>
       earlier(T1, T2))))).

tff(earlierYearDay,axiom,
  (![D1:$int,D2:$int,M1:$i,M2:$i,T1:$i,T2:$i,Y1:$int,Y2:$int]:(
    (($less(Y1, Y2) &
     (T1 = dayFn( D1, monthFn(M1, yearFn( Y1)))) &
     (T2 = dayFn( D2, monthFn( M2, yearFn(Y2))))) =>
       earlier(T1, T2))))).

tff(earlierDay,axiom,
  (![D1:$int,D2:$int,M:$i,T1:$i,T2:$i,Y:$int]:(
    (($less(D1, D2) &
     (T1 = dayFn( D1, monthFn(M, yearFn( Y)))) &
     (T2 = dayFn( D2, monthFn(M, yearFn( Y))))) =>
       earlier(T1, T2))))).
                       

%tff(addDayRecurse,axiom,
%  ![D1:$int,D2:$int,D3:$int,D4:$int,DM:$int,M:$i,M2:$i,Y:$int]:(
%    (D3 = $sum(D1,D2) &
%     daysInMonth(DM,M) &
%     successorClass(M,M2) &
%     $greater($sum(D1,D2),DM) &
%     (D4 = $difference(DM,D2))) &
%       (dayFn(D4,monthFn(M2,yearFn(Y))) = 
%        addDayFn(D2,dayFn(D1,monthFn(M,yearFn(Y))))))).
        
tff(addDay,axiom,
  ![D1:$int,D2:$int,D3:$int,DM:$int,M:$i,Y:$int]:(
    ((dayFn(D3,monthFn(M,yearFn(Y))) = 
        addDayFn(D2,dayFn(D1,monthFn(M,yearFn(Y))))) &
        daysInMonth(DM,M) &
        $less($sum(D1,D2),DM)) =>
    (D3 = $sum(D1,D2)))).

 % The loan is due 3 days after Dec 25th, 1980.  What is that date?
   
% works in vampire with -qa plain   
% SZS answers Tuple [[28,december,1980]|_] for TQT1   
%tff(conj,conjecture,  
%  ?[D:$int,M:$i,Y:$int]:(
%  (dayFn(D,monthFn(M,yearFn(Y))) =
%    addDayFn(3,dayFn(25,monthFn(december,yearFn(1980))))))).

 % The loan is due 30 days after Nov 25th, 1980.  What is that date?
% not working
  
tff(conj,conjecture, % check all the premises     
  ![D1:$int,D2:$int,D3:$int,D4:$int,DM:$int,D:$int,M:$i,M2:$i,Y:$int,DATE:$i]:(
%     (D3 = $sum(D1,D2)) &
     daysInMonth(DM,November) &
%     successorClass(M,M2) &
%     $greater($sum(D1,D2),DM) &
%     (D4 = $difference(DM,D2)) &
%     (dayFn(D,monthFn(M,yearFn(Y))) =
      (dayFn(D3,monthFn(M,yearFn(Y))) = 
      addDayFn(3,dayFn(25,monthFn(December,yearFn(1980))))))).
          
%tff(conj,conjecture,  
%  ?[D:$int,M:$i,Y:$int]:(
%  (dayFn(D,monthFn(M,yearFn(Y))) =
%    addDayFn(30,dayFn(25,monthFn(november,yearFn(1980))))))).
         
 % The loan is due 90 days after Dec 25th, 1980.  What is that date?
     
               

     
