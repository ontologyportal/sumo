% author: Martin Suda
% works best with -tha off -av off -s 1 

tff(t1,type,adjustDate: ($int * $int * $int * $int) > $o).

tff(t2,type,
  daysInMonth: ($int * $int) > $o).
  
tff(m1,axiom,daysInMonth(1,31)).
tff(m2,axiom,daysInMonth(2,28)).
tff(m3,axiom,daysInMonth(3,31)).
tff(m4,axiom,daysInMonth(4,30)).
tff(m5,axiom,daysInMonth(5,31)).
tff(m6,axiom,daysInMonth(6,30)).
tff(m7,axiom,daysInMonth(7,31)).
tff(m8,axiom,daysInMonth(8,31)).
tff(m9,axiom,daysInMonth(9,30)).
tff(m10,axiom,daysInMonth(10,31)).
tff(m11,axiom,daysInMonth(11,30)).
tff(m12,axiom,daysInMonth(12,31)).


tff(ax1,axiom,
	![X:$int,D:$int,DM:$int,M:$int,Y:$int]:(
	(adjustDate(X,D,M,Y) & $greater(X,0) & daysInMonth(M,DM) & $lesseq($sum(D,X),DM)) =>
	adjustDate(0,$sum(D,X),M,Y)
)).

tff(ax21,axiom,
	![X:$int,D:$int,DM:$int,M:$int,Y:$int]:(
	(adjustDate(X,D,M,Y) & $greater(X,0) & daysInMonth(M,DM) & $greater($sum(D,X),DM) & $less(M,12)) =>
	adjustDate($difference($sum(D,X),DM),0,$sum(M,1),Y)
)).

tff(ax22,axiom,
	![X:$int,D:$int,DM:$int,M:$int,Y:$int]:(
	(adjustDate(X,D,12,Y) & $greater(X,0) & daysInMonth(12,DM) & $greater($sum(D,X),DM)) =>
	adjustDate($difference($sum(D,X),DM),0,1,$sum(Y,1))
)).


tff(conj,hypothesis,
	adjustDate(380,15,1,2025)).

tff(conj,question,
	?[D:$int,M:$int,Y:$int]:adjustDate(0,D,M,Y)).
  
